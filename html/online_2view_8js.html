<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AvregSite: Файл online/view.js</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Создано системой Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Поиск');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AvregSite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Титульная&#160;страница</span></a></li>
      <li><a href="pages.html"><span>Описания</span></a></li>
      <li><a href="annotated.html"><span>Классы</span></a></li>
      <li class="current"><a href="files.html"><span>Файлы</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Поиск" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Файлы</span></a></li>
      <li><a href="globals.html"><span>Список&#160;членов&#160;всех&#160;файлов</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Функции</a> &#124;
<a href="#var-members">Переменные</a>  </div>
  <div class="headertitle">
<div class="title">Файл online/view.js</div>  </div>
</div>
<div class="contents">

<p>JS скрипт страницы наблюдения в реальном времени Содержит функции и глобальные переменные, обеспечивающие соответствующий функционал, осуществляет инициализацию страницы  
<a href="#details">Подробнее...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Функции</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6250e12fd6d95b6a3e9b6b931625b1de"></a><!-- doxytag: member="online/view.js::ready" ref="a6250e12fd6d95b6a3e9b6b931625b1de" args="(function(){fill_canvas();})" -->
document&#160;</td><td class="memItemRight" valign="bottom"><b>ready</b> (function(){fill_canvas();})</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a566d0a4f148059932f24695c6f95f31c">img_mouseover</a> (eimg, win_nr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Обработчик события mouseover для элементов раскладки камер.  <a href="#a566d0a4f148059932f24695c6f95f31c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#ad8ee0249f269c8481ddfeceddfe534ac">img_click</a> (clicked_div)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Обработчик события click по элементу раскладки камер.  <a href="#ad8ee0249f269c8481ddfeceddfe534ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a7c092267baec39567083664d5e6fc279">brout</a> (win_nr, win_div, win_geo)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция осуществляет инициализацию и установку элемента, реализующего воспроизведение видеопотока с заданной камеры, в соответствующую ячейку раскладки камер  <a href="#a7c092267baec39567083664d5e6fc279"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#ac6b4ea5a86a080f1114da679ff9620e5">calc_win_geo</a> (_canvas_w, _canvas_h, img_aspect_ratio, _rows_nr, _cols_nr, _rowspan)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция осуществляет вычисление размеров и расположения элементов раскладки камер  <a href="#ac6b4ea5a86a080f1114da679ff9620e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a15e465b3f2f4afc27e1f27c2c24208df">calc_win_left</a> (win_geo, col)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Вычисляет положение left для элементов раскладки Вызывается при:  <a href="#a15e465b3f2f4afc27e1f27c2c24208df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a85a13ae616c017ffa89877bf37cb45b7">calc_win_top</a> (win_geo, row)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Вычисляет положение top для элементов раскладки Вызывается при:  <a href="#a85a13ae616c017ffa89877bf37cb45b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#aad8bad3861f1602206d45d488f34a297">change_fs_win_geo</a> (fs_win)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Вычисляет и устанавливает размеры отображаемого элемента в полноэкранном режиме при ресайзе окна  <a href="#aad8bad3861f1602206d45d488f34a297"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acba8e356c05fb5aed4cb777de0457b3d"></a><!-- doxytag: member="online/view.js::change_wins_geo" ref="acba8e356c05fb5aed4cb777de0457b3d" args="()" -->
function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#acba8e356c05fb5aed4cb777de0457b3d">change_wins_geo</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Вычисляет и устанавливает размеры элементов раскладки после ресайза окна <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5acf0f1f93d0ec4dc39929a4b9809b68"></a><!-- doxytag: member="online/view.js::canvas_growth" ref="a5acf0f1f93d0ec4dc39929a4b9809b68" args="()" -->
function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a5acf0f1f93d0ec4dc39929a4b9809b68">canvas_growth</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Обработчик ресайза окна <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e1a4a5b1e97ff3535ef83154dc7f13c"></a><!-- doxytag: member="online/view.js::get_geo_str" ref="a8e1a4a5b1e97ff3535ef83154dc7f13c" args="(JQ_elem)" -->
function&#160;</td><td class="memItemRight" valign="bottom"><b>get_geo_str</b> (JQ_elem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6557e382aa94bf648a1e32ed07455c39"></a><!-- doxytag: member="online/view.js::try_fs" ref="a6557e382aa94bf648a1e32ed07455c39" args="()" -->
function&#160;</td><td class="memItemRight" valign="bottom"><b>try_fs</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a053489e2b8ab5ad1932b5e720227c0f6">layouts_to_list</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Выводит список доступных раскладок  <a href="#a053489e2b8ab5ad1932b5e720227c0f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a9fccb9fd8060a2ae329d862e6a866ab0">change_layout</a> (mon_nr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Смена раскладки  <a href="#a9fccb9fd8060a2ae329d862e6a866ab0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a0b9bb83037f851b44018fa0ed2833687">calcAspectForGeo</a> (w, h)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Расчет размеров элементов отображения камер в раскладке  <a href="#a0b9bb83037f851b44018fa0ed2833687"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a97644688e577be390aa5e2685714f23a">get_cam_http_url</a> (conf, cam_nr, media, append_abenc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Функция, которая возвращает ссылку на просмотр видео с камеры аналог php-функции из <a class="el" href="get__cam__url_8php.html" title="Формирование ссылки на видео с камеры сервера avregd.">lib/get_cam_url.php</a>.  <a href="#a97644688e577be390aa5e2685714f23a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5057c23f54a62675bbe5d56a9b2b692e"></a><!-- doxytag: member="online/view.js::fill_canvas" ref="a5057c23f54a62675bbe5d56a9b2b692e" args="()" -->
function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a5057c23f54a62675bbe5d56a9b2b692e">fill_canvas</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Выводит раскладку с он-лайн камерами в канвас <br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Переменные</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a290142d468e2beeafc48ace936ef20fe"></a><!-- doxytag: member="online/view.js::CANVAS" ref="a290142d468e2beeafc48ace936ef20fe" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a290142d468e2beeafc48ace936ef20fe">CANVAS</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Элемент, в который выводятся раскладка камер <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a7d6177ff61b602de20227fba79903a"></a><!-- doxytag: member="online/view.js::CANVAS_W" ref="a6a7d6177ff61b602de20227fba79903a" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a6a7d6177ff61b602de20227fba79903a">CANVAS_W</a> = -1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Ширина эл-та CANVAS. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af276d8b19b1157e1150b576aa57ce84b"></a><!-- doxytag: member="online/view.js::CANVAS_H" ref="af276d8b19b1157e1150b576aa57ce84b" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#af276d8b19b1157e1150b576aa57ce84b">CANVAS_H</a> = -1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Высота эл-та CANVAS. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ad5caf47487697dd6b35e0d442cb585"></a><!-- doxytag: member="online/view.js::WIN_DIVS" ref="a8ad5caf47487697dd6b35e0d442cb585" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a8ad5caf47487697dd6b35e0d442cb585">WIN_DIVS</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Элемент раскладки камер <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c1690638cce335c816a6246c2769763"></a><!-- doxytag: member="online/view.js::WIN_DIV_LEFT" ref="a3c1690638cce335c816a6246c2769763" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a3c1690638cce335c816a6246c2769763">WIN_DIV_LEFT</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">global var for tooltip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8370a43c51ace4288b7d9478dc05d164"></a><!-- doxytag: member="online/view.js::WIN_DIV_TOP" ref="a8370a43c51ace4288b7d9478dc05d164" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a8370a43c51ace4288b7d9478dc05d164">WIN_DIV_TOP</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">global var for tooltip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4e3ccbc8c0f45805c9dc8fc27ceb685"></a><!-- doxytag: member="online/view.js::WIN_DIV_W" ref="ab4e3ccbc8c0f45805c9dc8fc27ceb685" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#ab4e3ccbc8c0f45805c9dc8fc27ceb685">WIN_DIV_W</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">global var for tooltip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af92ee083077183f888e0e827a4481d48"></a><!-- doxytag: member="online/view.js::WIN_DIV_H" ref="af92ee083077183f888e0e827a4481d48" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#af92ee083077183f888e0e827a4481d48">WIN_DIV_H</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">global var for tooltip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a449dab3e87be0beabdde5156790e0517"></a><!-- doxytag: member="online/view.js::IMG_IN_DIV_W" ref="a449dab3e87be0beabdde5156790e0517" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a449dab3e87be0beabdde5156790e0517">IMG_IN_DIV_W</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">global var for tooltip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa38c5443d4b7d5fd8ecc4afc67fdc58a"></a><!-- doxytag: member="online/view.js::IMG_IN_DIV_H" ref="aa38c5443d4b7d5fd8ecc4afc67fdc58a" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#aa38c5443d4b7d5fd8ecc4afc67fdc58a">IMG_IN_DIV_H</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">global var for tooltip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a5976bae1a3ff7ba65f1e37c614c70e"></a><!-- doxytag: member="online/view.js::FS_WIN_DIV" ref="a3a5976bae1a3ff7ba65f1e37c614c70e" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a3a5976bae1a3ff7ba65f1e37c614c70e">FS_WIN_DIV</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">global var for tooltip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a463a56db069c863714168b6ed133e153"></a><!-- doxytag: member="online/view.js::NAME_DIV_H" ref="a463a56db069c863714168b6ed133e153" args="" -->
var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="online_2view_8js.html#a463a56db069c863714168b6ed133e153">NAME_DIV_H</a> = PrintCamNames?20:0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Высота элемента в кот. выводится название камеры <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Подробное описание</h2>
<div class="textblock"><p>JS скрипт страницы наблюдения в реальном времени Содержит функции и глобальные переменные, обеспечивающие соответствующий функционал, осуществляет инициализацию страницы </p>
</div><hr/><h2>Функции</h2>
<a class="anchor" id="a7c092267baec39567083664d5e6fc279"></a><!-- doxytag: member="view.js::brout" ref="a7c092267baec39567083664d5e6fc279" args="(win_nr, win_div, win_geo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function brout </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>win_nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>win_div</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>win_geo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Функция осуществляет инициализацию и установку элемента, реализующего воспроизведение видеопотока с заданной камеры, в соответствующую ячейку раскладки камер </p>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">win_nr</td><td>- номер устанавливаемой ячейки </td></tr>
    <tr><td class="paramname">win_div</td><td>- элемент устанавливаемой ячейки </td></tr>
    <tr><td class="paramname">win_geo</td><td>- объект, содержащий параметры элемента(размеры, смещение и т.п.) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac6b4ea5a86a080f1114da679ff9620e5"></a><!-- doxytag: member="view.js::calc_win_geo" ref="ac6b4ea5a86a080f1114da679ff9620e5" args="(_canvas_w, _canvas_h, img_aspect_ratio, _rows_nr, _cols_nr, _rowspan)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function calc_win_geo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_canvas_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_canvas_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>img_aspect_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_rows_nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_cols_nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_rowspan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Функция осуществляет вычисление размеров и расположения элементов раскладки камер </p>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_canvas_w</td><td>- ширина эл-та CANVAS </td></tr>
    <tr><td class="paramname">_canvas_h</td><td>- высота эл-та CANVAS </td></tr>
    <tr><td class="paramname">img_aspect_ratio</td><td>- объект, содержит коэфициенты для пропорционального преобразования размеров элементов воспроизведения </td></tr>
    <tr><td class="paramname">_rows_nr</td><td>- номер строки текущего элемента </td></tr>
    <tr><td class="paramname">_cols_nr</td><td>- номер столбца текущего элемента </td></tr>
    <tr><td class="paramname">_rowspan</td><td>- сколько позиций элемент занимает в раскладке </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a15e465b3f2f4afc27e1f27c2c24208df"></a><!-- doxytag: member="view.js::calc_win_left" ref="a15e465b3f2f4afc27e1f27c2c24208df" args="(win_geo, col)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function calc_win_left </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>win_geo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Вычисляет положение left для элементов раскладки Вызывается при: </p>
<ul>
<li>
Установке элементов в раскладке </li>
<li>
При переходе в элемента в полноэкраный режим </li>
<li>
При ресайзе окна </li>
<li>
При выходе из полноэкранного режима, если этом режиме был ресайз окна </li>
</ul>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">win_geo</td><td>- объект, содержит параметры контекстного элемента </td></tr>
    <tr><td class="paramname">col</td><td>- колонка раскладки по которой позиционируется элемент </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a85a13ae616c017ffa89877bf37cb45b7"></a><!-- doxytag: member="view.js::calc_win_top" ref="a85a13ae616c017ffa89877bf37cb45b7" args="(win_geo, row)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function calc_win_top </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>win_geo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>row</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Вычисляет положение top для элементов раскладки Вызывается при: </p>
<ul>
<li>
Установке элементов в раскладке </li>
<li>
При переходе в элемента в полноэкраный режим </li>
<li>
При ресайзе окна </li>
<li>
При выходе из полноэкранного режима, если этом режиме был ресайз окна </li>
</ul>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">win_geo</td><td>- объект, содержит параметры контекстного элемента </td></tr>
    <tr><td class="paramname">row</td><td>- строка раскладки по которой позиционируется элемент </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0b9bb83037f851b44018fa0ed2833687"></a><!-- doxytag: member="view.js::calcAspectForGeo" ref="a0b9bb83037f851b44018fa0ed2833687" args="(w, h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function calcAspectForGeo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Расчет размеров элементов отображения камер в раскладке </p>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>- ширина изображения камеры </td></tr>
    <tr><td class="paramname">h</td><td>- высота изображения камеры </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Возвращает:</b></dt><dd>объект с размерами элементов отображения камер в раскладке </dd></dl>

</div>
</div>
<a class="anchor" id="aad8bad3861f1602206d45d488f34a297"></a><!-- doxytag: member="view.js::change_fs_win_geo" ref="aad8bad3861f1602206d45d488f34a297" args="(fs_win)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function change_fs_win_geo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fs_win</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Вычисляет и устанавливает размеры отображаемого элемента в полноэкранном режиме при ресайзе окна </p>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fs_win</td><td>- отображаемый в полноэкранном режиме элемент </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9fccb9fd8060a2ae329d862e6a866ab0"></a><!-- doxytag: member="view.js::change_layout" ref="a9fccb9fd8060a2ae329d862e6a866ab0" args="(mon_nr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function change_layout </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mon_nr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Смена раскладки </p>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mon_nr</td><td>- номер устанавливаемой раскладки (из MON_NR в WEB_MONITORS БД) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a97644688e577be390aa5e2685714f23a"></a><!-- doxytag: member="view.js::get_cam_http_url" ref="a97644688e577be390aa5e2685714f23a" args="(conf, cam_nr, media, append_abenc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function get_cam_http_url </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cam_nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>media</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>append_abenc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Функция, которая возвращает ссылку на просмотр видео с камеры аналог php-функции из <a class="el" href="get__cam__url_8php.html" title="Формирование ссылки на видео с камеры сервера avregd.">lib/get_cam_url.php</a>. </p>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$conf</td><td>масив настроек </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$cam_nr</td><td>номер камеры </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$media</td><td>тип медиа </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$append_abenc</td><td>аутентификация пользователя </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Возвращает:</b></dt><dd>string адрес видео с камеры </dd></dl>

</div>
</div>
<a class="anchor" id="ad8ee0249f269c8481ddfeceddfe534ac"></a><!-- doxytag: member="view.js::img_click" ref="ad8ee0249f269c8481ddfeceddfe534ac" args="(clicked_div)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function img_click </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clicked_div</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Обработчик события click по элементу раскладки камер. </p>
<p>Если включен режим раскладки разворачивает контекстный елемент в полноэкранный режим. Если включен полноэкранном режим - востанавливает режим раскладки. </p>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">clicked_div</td><td>- элемент раскладки камер, по кот. осуществлен клик </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a566d0a4f148059932f24695c6f95f31c"></a><!-- doxytag: member="view.js::img_mouseover" ref="a566d0a4f148059932f24695c6f95f31c" args="(eimg, win_nr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function img_mouseover </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eimg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>win_nr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Обработчик события mouseover для элементов раскладки камер. </p>
<p>Обеспечивает формирование и вывод tooltip </p>
<dl><dt><b>Аргументы:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">eimg</td><td>- элемент раскладки </td></tr>
    <tr><td class="paramname">win_nr</td><td>- номер элемента раскладки </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a053489e2b8ab5ad1932b5e720227c0f6"></a><!-- doxytag: member="view.js::layouts_to_list" ref="a053489e2b8ab5ad1932b5e720227c0f6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function layouts_to_list </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Выводит список доступных раскладок </p>
<dl class="return"><dt><b>Возвращает:</b></dt><dd>{String} - html -разметка </dd></dl>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Указатель</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Классы</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Файлы</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Функции</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Переменные</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Документация по AvregSite. Последние изменения: Чт 24 Май 2012 13:23:13. Создано системой&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
